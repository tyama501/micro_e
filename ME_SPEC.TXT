MICRO E-FOREST for PC-98
設計仕様書
rev 0.1

1.概要
本ドキュメントはMICRO E-FORESTの設計仕様を定めるものである。
MICRO E-FORESTはランダムダンジョン生成によるターン型RPGである。

2.キャラクタ
キャラクタはスプライトにより生成する。
背景もスプライトのブロックを配置することで描画する。
スプライトは16x16のサイズとする。
8x8の画象を縦横2倍して格納する。

キャラクタはBody画像データと攻撃実施時に表示するAttack画像データを持つ。

3.スクリーン
スクリーンは640x400の解像度を持つ。

4.操作
プレイヤーキャラクタの操作は以下のキーで行うものとする。

KEY : 操作
----------
8 : 上移動
2 : 下移動
4 : 左移動
6 : 右移動
a : 攻撃
q : 終了

プレイヤーの移動と敵キャラクタの移動が交互に行われる。
プレイヤーは直前の移動方向に対して攻撃を行うことができる。

5.ステータス
プレイヤーキャラクタ、敵キャラクタは
それぞれ以下のステータスデータを変数に持つ。

プレイヤーキャラクタ
変数 : データ
---------------
pX : Body位置X座標
pY : Body位置Y座標
pakX : Attack位置X座標
pakY : Attack位置Y座標
pH : プレイヤー現HP
mxpH : プレイヤー最大HP

敵キャラクタ
変数 : データ
---------------
eX() : Body位置X座標
eY() : Body位置Y座標
eakX() : Attack位置X座標
eakY() : Attack位置Y座標
eH() : 敵現HP
mxeH() : 敵最大HP

敵キャラクタの変数は
配置する敵キャラクタの数の大きさを持つ配列を用意する。

敵キャラクタは最大８体画面上に配置可能とする。
(現実装では2体)

敵キャラクタは移動後、上下左右から一つをランダムに選んで
Attack画像を配置する。

敵キャラクタのAttack画像の特定色にプレイヤー座票が触れた場合
プレイヤーはダメージを受ける。

プレイヤーのAttack画像の特定色に敵キャラクタ座標が触れた場合
敵キャラクタはダメージを受ける。

プレイヤーのHP及び最も近い敵キャラクタのHPが画面上部に表示される。

6.クリア条件
全ての敵を倒した場合、クリアとなる。

7.ゲームオーバー条件
プレイヤーのHPがゼロになった場合、ゲームオーバーとなる。
